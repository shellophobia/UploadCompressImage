window.transformImageJS=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"TransformImage",(function(){return c}));var r={sizeLimit:16777216,maxWidth:500,maxHeight:500,quality:.5,base64OutputType:!1,blobOutputType:!0,allowedFileTypes:["jpg","png","jpeg"]},i=function(e,t){var n=!1;return t.allowedFileTypes.forEach((function(t){new RegExp("image/"+t).test(e)&&(n=!0)})),n},a=function(e,t){if(e>t.sizeLimit)throw"Please upload an image of size less than "+t.sizeLimit/1048576+"MB"},o=function(e,t){var n=new RegExp("^data:"+t+";base64,");e=e.replace(n,"");for(var r=atob(e),i=[],a=0;a<r.length;a+=512){for(var o=r.slice(a,a+512),u=new Array(o.length),l=0;l<o.length;l++)u[l]=o.charCodeAt(l);var s=new Uint8Array(u);i.push(s)}return new Blob(i,{type:t})};function u(e,t,n,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}var l=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(i(t.type,n)){e.next=4;break}throw"File "+t.name+" is not a supported image.";case 4:(l=new FileReader).readAsArrayBuffer(t),l.onload=function(e){var i=new Blob([e.target.result]),u=i.size;a(u,n),window.URL=window.URL||window.webkitURL;var l=window.URL.createObjectURL(i),c=new Image;c.src=l,c.onload=function(){var e=s(c,t.type,n);n.base64OutputType?r(e):n.blobOutputType&&(e.output=o(e.output,t.type),r(e))}};case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,l,"next",e)}function l(e){u(a,r,i,o,l,"throw",e)}o(void 0)}))});return function(e,n,r,i){return t.apply(this,arguments)}}(),s=function(e,t,n){var r=document.createElement("canvas"),i=e.width,a=e.height;return i>a?i>n.maxWidth&&(a=Math.round(a*=n.maxWidth/i),i=n.maxWidth):a>n.maxHeight&&(i=Math.round(i*=n.maxHeight/a),a=n.maxHeight),r.width=i,r.height=a,r.getContext("2d").drawImage(e,0,0,i,a),{output:r.toDataURL(t,n.quality),metadata:{originalHeight:e.height,originalWidth:e.width,resizedHeight:a,resizedWidth:i}}};var c=function e(t){var n,i,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=function(e){return new Promise((function(t,n){l(e,o.options,t,n).catch((function(e){n(e)}))}))},(i="resizeImage")in(n=this)?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.sizeLimit=t.sizeLimit||r.sizeLimit,t.maxWidth=t.maxWidth||r.maxWidth,t.maxHeight=t.maxHeight||r.maxHeight,t.quality=t.quality||r.quality,t.base64OutputType=t.base64OutputType||r.base64OutputType,t.blobOutputType=t.blobOutputType||r.blobOutputType,t.allowedFileTypes=t.allowedFileTypes||r.allowedFileTypes,this.options=t}}]);
//# sourceMappingURL=transform-image-js.min.map