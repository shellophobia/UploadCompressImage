!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("transform-image-js",[],t):"object"==typeof exports?exports["transform-image-js"]=t():e["transform-image-js"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),r.d(t,"TransformImage",(function(){return y}));var n={sizeLimit:16777216,maxWidth:500,maxHeight:500,quality:.5,base64OutputType:!1,blobOutputType:!0,allowedFileTypes:["jpg","png","jpeg"]},i=function(e,t){var r=!1;return t.allowedFileTypes.forEach((function(t){new RegExp("image/"+t).test(e)&&(r=!0)})),r},o=function(e,t){if(e>t.sizeLimit)throw"Please upload an image of size less than "+t.sizeLimit/1048576+"MB"},a=function(e,t){var r=new RegExp("^data:image/"+t+";base64,");e=e.replace(r,"");for(var n=atob(e),i=[],o=0;o<n.length;o+=512){for(var a=n.slice(o,o+512),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a.charCodeAt(c);var l=new Uint8Array(u);i.push(l)}return new Blob(i,{type:"image/"+t})};function u(e){throw new Error('"'+e+'" is read-only')}function c(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,i)}var l=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw"File is null or undefined";case 2:if(i(t.type,r)){e.next=4;break}throw"File "+t.name+" is not a supported image.";case 4:(n=new FileReader).readAsArrayBuffer(t),n.onload=function(e){var n=new Blob([e.target.result]),i=n.size;o(i,r),window.URL=window.URL||window.webkitURL;var u=window.URL.createObjectURL(n),c=new Image;c.src=u,c.onload=function(){var e=f(c,t.type,r);return r.base64OutputType?e:r.blobOutputType?a(e,t.type):void 0}};case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,u,"next",e)}function u(e){c(o,n,i,a,u,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),f=function(e,t,r){var n=document.createElement("canvas"),i=e.width,o=e.height;return i>o?i>r.maxWidth&&(u("height"),o=Math.round(o*=(u("height"),r.maxWidth/i)),u("width"),i=r.maxWidth):o>r.maxHeight&&(u("width"),i=Math.round(i*=(u("width"),r.maxHeight/o)),u("height"),o=r.maxHeight),n.width=i,n.height=o,n.getContext("2d").drawImage(e,0,0,i,o),n.toDataURL("image/"+t,r.quality)};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.sizeLimit=t.sizeLimit||n.sizeLimit,t.maxWidth=t.maxWidth||n.maxWidth,t.maxHeight=t.maxHeight||n.maxHeight,t.quality=t.quality||n.quality,t.base64OutputType=t.base64OutputType||n.base64OutputType,t.blobOutputType=t.blobOutputType||n.blobOutputType,t.allowedFileTypes=t.allowedFileTypes||n.allowedFileTypes,this.options=t}var t,r,i;return t=e,(r=[{key:"resizeImage",value:function(e){l(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.options))}}])&&d(t.prototype,r),i&&d(t,i),e}()}])}));
//# sourceMappingURL=transform-image-js.min.map